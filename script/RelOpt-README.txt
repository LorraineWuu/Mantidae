# mantis's relaxed optimization decoder
#*** ZH --> EN
#train
#vanilla
#CPU (MKL-enhanced)
nice ./build_cpu/src/attentional --dynet_mem 2000,2000,5000 -t /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/train.zh-en.mrg -d /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/dev.zh-en.mrg -p experiments/btec/zh-en/params.zh-en.AM.l_2_h_512_a_256_lstm_bidir --bidirectional --lstm -l 2 -h 512 -a 256 -e 10 --lr_epochs 4 --lr_eta 0.1 --lr_eta_decay 2 &>experiments/btec/zh-en/log.zh-en.AM.train.l_2_h_512_a_256_lstm_bidir &
#GPU 
nice ./build_gpu/src/attentional --dynet_mem 2000,2000,5000 -t /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/train.zh-en.mrg -d /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/dev.zh-en.mrg -p experiments/btec/zh-en/params.zh-en.AM.l_2_h_512_a_256_lstm_bidir --bidirectional --lstm -l 2 -h 512 -a 256 -e 10 --lr_epochs 4 --lr_eta 0.1 --lr_eta_decay 2 &>experiments/btec/zh-en/log.zh-en.AM.train.l_2_h_512_a_256_lstm_bidir &
#vanilla + giza features
#CPU (MKL-enhanced)
nice ./build_cpu/src/attentional --dynet_mem 2000,2000,5000 --giza -t /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/train.zh-en.mrg -d /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/dev.zh-en.mrg -p experiments/btec/zh-en/params.zh-en.AM.l_2_h_512_a_256_lstm_bidir_giza --bidirectional --lstm -l 2 -h 512 -a 256 -e 10 --lr_epochs 4 --lr_eta 0.1 --lr_eta_decay 2 &>experiments/btec/zh-en/log.zh-en.AM.train.l_2_h_512_a_256_lstm_bidir_giza &
#GPU
nice ./build_gpu/src/attentional --dynet_mem 2000,2000,5000 --giza -t /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/train.zh-en.mrg -d /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/dev.zh-en.mrg -i experiments/btec/zh-en/params.zh-en.AM.l_2_h_512_a_256_lstm_bidir_giza -p experiments/btec/zh-en/params.zh-en.AM.l_2_h_512_a_256_lstm_bidir_giza --bidirectional --lstm -l 2 -h 512 -a 256 -e 10 --lr_epochs 2 --lr_eta 0.1 --lr_eta_decay 2 &>experiments/btec/zh-en/log1.zh-en.AM.train.l_2_h_512_a_256_lstm_bidir_giza &

#vanilla + global fertility
#GPU
nice ./build_gpu/src/attentional --dynet_mem 2000,2000,5000 --fertility -t /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/train.zh-en.mrg -d /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/dev.zh-en.mrg -i experiments/btec/zh-en/params.zh-en.AM.l_2_h_512_a_256_lstm_bidir -p experiments/btec/zh-en/params.zh-en.AM.l_2_h_512_a_256_lstm_bidir_glofer --bidirectional --lstm -l 2 -h 512 -a 256 -e 10 --lr_epochs 1 --lr_eta 0.1 --lr_eta_decay 2 &>experiments/btec/zh-en/log.zh-en.AM.train.l_2_h_512_a_256_lstm_bidir_glofer &
./build_gpu/src/attentional --dynet_mem 1000,2000,5000 -t /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/train.zh-en.mrg -T /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/test.zh.mrg -i experiments/btec/zh-en/params.zh-en.AM.l_2_h_512_a_256_lstm_bidir_glofer --fertility --lstm --bidirectional -l 2 -h 512 -a 256 > experiments/btec/zh-en/translation-greedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir_glofer
sed 's/<s> //g' <experiments/btec/zh-en/translation-greedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir_glofer >experiments/btec/zh-en/translation-greedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir_glofer.nob
sed 's/ <\/s>//g' <experiments/btec/zh-en/translation-greedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir_glofer.nob >experiments/btec/zh-en/translation-greedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir_glofer.nobe
/home/vhoang2/tools/mosesdecoder-RELEASE-3.0/scripts/generic/multi-bleu.perl /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/dev/devset3.lc.en0 <experiments/btec/zh-en/translation-greedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir_glofer.nobe &>experiments/btec/zh-en/translation-greedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir_glofer.score-BLEU &

#vanilla + giza features + global fertility
nice ./build_gpu/src/attentional --dynet_mem 2000,2000,5000 --fertility --giza -t /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/train.zh-en.mrg -d /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/dev.zh-en.mrg -i experiments/btec/zh-en/params.zh-en.AM.l_2_h_512_a_256_lstm_bidir -i experiments/btec/zh-en/params.zh-en.AM.l_2_h_512_a_256_lstm_bidir_giza -p experiments/btec/zh-en/params.zh-en.AM.l_2_h_512_a_256_lstm_bidir_giza_glofer --bidirectional --lstm -l 2 -h 512 -a 256 -e 10 --lr_epochs 1 --lr_eta 0.1 --lr_eta_decay 2 &>experiments/btec/zh-en/log.zh-en.AM.train.l_2_h_512_a_256_lstm_bidir_giza_glofer &
./build_gpu/src/attentional --dynet_mem 1000,2000,5000 -t /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/train.zh-en.mrg -T /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/test.zh.mrg -i experiments/btec/zh-en/params.zh-en.AM.l_2_h_512_a_256_lstm_bidir_giza_glofer --fertility --lstm --bidirectional -l 2 -h 512 -a 256 > experiments/btec/zh-en/translation-greedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir_giza_glofer
sed 's/<s> //g' <experiments/btec/zh-en/translation-greedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir_giza_glofer >experiments/btec/zh-en/translation-greedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir_giza_glofer.nob
sed 's/ <\/s>//g' <experiments/btec/zh-en/translation-greedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir_giza_glofer.nob >experiments/btec/zh-en/translation-greedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir_giza_glofer.nobe
/home/vhoang2/tools/mosesdecoder-RELEASE-3.0/scripts/generic/multi-bleu.perl /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/dev/devset3.lc.en0 <experiments/btec/zh-en/translation-greedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir_giza_glofer.nobe &>experiments/btec/zh-en/translation-greedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir_giza_glofer.score-BLEU &

#greedy/beam decoding
#greedy
./build_cpu/src/attentional --dynet_mem 1000,2000,5000 -t /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/train.zh-en.mrg -T /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/test.zh.mrg -i experiments/btec/zh-en/params.zh-en.AM.l_2_h_512_a_256_lstm_bidir --lstm --bidirectional -l 2 -h 512 -a 256 > experiments/btec/zh-en/translation-greedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir
sed 's/<s> //g' <experiments/btec/zh-en/translation-greedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir >experiments/btec/zh-en/translation-greedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir.nob
sed 's/ <\/s>//g' <experiments/btec/zh-en/translation-greedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir.nob >experiments/btec/zh-en/translation-greedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir.nobe
/home/vhoang2/tools/mosesdecoder-RELEASE-3.0/scripts/generic/multi-bleu.perl /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/dev/devset3.lc.en0 <experiments/btec/zh-en/translation-greedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir.nobe &>experiments/btec/zh-en/translation-greedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir.score-BLEU &
#beam 5
./build_cpu/src/attentional --dynet_mem 1000,2000,5000 -t /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/train.zh-en.mrg -T /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/test.zh.mrg -i experiments/btec/zh-en/params.zh-en.AM.l_2_h_512_a_256_lstm_bidir --lstm --bidirectional -l 2 -h 512 -a 256 --beam 5 > experiments/btec/zh-en/translation-beam5.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir
sed 's/<s> //g' <experiments/btec/zh-en/translation-beam5.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir >experiments/btec/zh-en/translation-beam5.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir.nob
sed 's/ <\/s>//g' <experiments/btec/zh-en/translation-beam5.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir.nob >experiments/btec/zh-en/translation-beam5.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir.nobe
/home/vhoang2/tools/mosesdecoder-RELEASE-3.0/scripts/generic/multi-bleu.perl /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/dev/devset3.lc.en0 <experiments/btec/zh-en/translation-beam5.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir.nobe &>experiments/btec/zh-en/translation-beam5.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir.score-BLEU &

#relopt decoding
#EG, iter40, eta10, init1
#GPU
nice ./build_gpu/src/relopt-decoder --dynet_mem 1000,2000,5000 --relopt_algo 1 --relopt_init 1 --relopt_eta 10 --relopt_max_iters 40 -t /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/train.zh-en.mrg --src_in /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/test.zh.mrg --ref_in experiments/btec/zh-en/translation-greedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir --trg_out experiments/btec/zh-en/translation-relopt_eg_eta10_init1_iter40_refgreedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir -i experiments/btec/zh-en/params.zh-en.AM.l_2_h_512_a_256_lstm_bidir --lstm --bidirectional -l 2 -h 512 -a 256 &>experiments/btec/zh-en/log.zh-en.AM._relopt_eg_eta10_init1_iter40_refgreedy.l_2_h_512_a_256_lstm_bidir &
/home/vhoang2/tools/mosesdecoder-RELEASE-3.0/scripts/generic/multi-bleu.perl /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/dev/devset3.lc.en0 <experiments/btec/zh-en/translation-relopt_eg_eta10_init1_iter40_refgreedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir &>experiments/btec/zh-en/translation-relopt_eg_eta10_init1_iter40_refgreedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir.score-BLEU &
#EG, iter40, eta4, init1
#GPU
nice ./build_gpu/src/relopt-decoder --dynet_mem 1000,2000,5000 --relopt_algo 1 --relopt_init 1 --relopt_eta 4 --relopt_max_iters 40 -t /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/train.zh-en.mrg --src_in /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/test.zh.mrg --ref_in experiments/btec/zh-en/translation-greedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir --trg_out experiments/btec/zh-en/translation-relopt_eg_eta4_init1_iter40_refgreedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir -i experiments/btec/zh-en/params.zh-en.AM.l_2_h_512_a_256_lstm_bidir --lstm --bidirectional -l 2 -h 512 -a 256 &>experiments/btec/zh-en/log.zh-en.AM._relopt_eg_eta4_init1_iter40_refgreedy.l_2_h_512_a_256_lstm_bidir &
/home/vhoang2/tools/mosesdecoder-RELEASE-3.0/scripts/generic/multi-bleu.perl /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/dev/devset3.lc.en0 <experiments/btec/zh-en/translation-relopt_eg_eta4_init1_iter40_refgreedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir &>experiments/btec/zh-en/translation-relopt_eg_eta4_init1_iter40_refgreedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir.score-BLEU &
#EG, iter40, eta5, init1
#GPU
nice ./build_gpu/src/relopt-decoder --dynet_mem 1000,2000,5000 --relopt_algo 1 --relopt_init 1 --relopt_eta 5 --relopt_max_iters 40 -t /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/train.zh-en.mrg --src_in /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/test.zh.mrg --ref_in experiments/btec/zh-en/translation-greedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir --trg_out experiments/btec/zh-en/translation-relopt_eg_eta5_init1_iter40_refgreedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir -i experiments/btec/zh-en/params.zh-en.AM.l_2_h_512_a_256_lstm_bidir --lstm --bidirectional -l 2 -h 512 -a 256 &>experiments/btec/zh-en/log.zh-en.AM._relopt_eg_eta5_init1_iter40_refgreedy.l_2_h_512_a_256_lstm_bidir &
/home/vhoang2/tools/mosesdecoder-RELEASE-3.0/scripts/generic/multi-bleu.perl /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/dev/devset3.lc.en0 <experiments/btec/zh-en/translation-relopt_eg_eta5_init1_iter40_refgreedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir &>experiments/btec/zh-en/translation-relopt_eg_eta5_init1_iter40_refgreedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir.score-BLEU &
#EG, iter40, eta1, init1
#GPU
nice ./build_gpu/src/relopt-decoder --dynet_mem 1000,2000,5000 --relopt_algo 1 --relopt_init 1 --relopt_eta 1 --relopt_max_iters 40 -t /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/train.zh-en.mrg --src_in /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/test.zh.mrg --ref_in experiments/btec/zh-en/translation-greedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir --trg_out experiments/btec/zh-en/translation-relopt_eg_eta1_init1_iter40_refgreedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir -i experiments/btec/zh-en/params.zh-en.AM.l_2_h_512_a_256_lstm_bidir --lstm --bidirectional -l 2 -h 512 -a 256 &>experiments/btec/zh-en/log.zh-en.AM.relopt_eg_eta1_init1_iter40_refgreedy.l_2_h_512_a_256_lstm_bidir &
/home/vhoang2/tools/mosesdecoder-RELEASE-3.0/scripts/generic/multi-bleu.perl /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/dev/devset3.lc.en0 <experiments/btec/zh-en/translation-relopt_eg_eta1_init1_iter40_refgreedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir &>experiments/btec/zh-en/translation-relopt_eg_eta1_init1_iter40_refgreedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir.score-BLEU &
#EG, iter40, eta2, init1
#GPU
nice ./build_gpu/src/relopt-decoder --dynet_mem 1000,2000,5000 --relopt_algo 1 --relopt_init 1 --relopt_eta 2 --relopt_max_iters 40 -t /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/train.zh-en.mrg --src_in /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/test.zh.mrg --ref_in experiments/btec/zh-en/translation-greedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir --trg_out experiments/btec/zh-en/translation-relopt_eg_eta2_init1_iter40_refgreedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir -i experiments/btec/zh-en/params.zh-en.AM.l_2_h_512_a_256_lstm_bidir --lstm --bidirectional -l 2 -h 512 -a 256 &>experiments/btec/zh-en/log.zh-en.AM._relopt_eg_eta2_init1_iter40_refgreedy.l_2_h_512_a_256_lstm_bidir &
/home/vhoang2/tools/mosesdecoder-RELEASE-3.0/scripts/generic/multi-bleu.perl /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/dev/devset3.lc.en0 <experiments/btec/zh-en/translation-relopt_eg_eta2_init1_iter40_refgreedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir &>experiments/btec/zh-en/translation-relopt_eg_eta2_init1_iter40_refgreedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir.score-BLEU &
#EG, iter40, eta3, init1
#GPU
nice ./build_gpu/src/relopt-decoder --dynet_mem 1000,2000,5000 --relopt_algo 1 --relopt_init 1 --relopt_eta 3 --relopt_max_iters 40 -t /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/train.zh-en.mrg --src_in /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/test.zh.mrg --ref_in experiments/btec/zh-en/translation-greedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir --trg_out experiments/btec/zh-en/translation-relopt_eg_eta3_init1_iter40_refgreedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir -i experiments/btec/zh-en/params.zh-en.AM.l_2_h_512_a_256_lstm_bidir --lstm --bidirectional -l 2 -h 512 -a 256 &>experiments/btec/zh-en/log.zh-en.AM._relopt_eg_eta3_init1_iter40_refgreedy.l_2_h_512_a_256_lstm_bidir &
/home/vhoang2/tools/mosesdecoder-RELEASE-3.0/scripts/generic/multi-bleu.perl /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/dev/devset3.lc.en0 <experiments/btec/zh-en/translation-relopt_eg_eta3_init1_iter40_refgreedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir &>experiments/btec/zh-en/translation-relopt_eg_eta3_init1_iter40_refgreedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir.score-BLEU &
#EG, iter40, eta3, init1, coverage0.1
#GPU
nice ./build_gpu/src/relopt-decoder --dynet_mem 1000,2000,5000 --relopt_algo 1 --relopt_init 1 --relopt_eta 3 --relopt_max_iters 40 --relopt_coverage_weight 0.1 -t /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/train.zh-en.mrg --src_in /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/test.zh.mrg --ref_in experiments/btec/zh-en/translation-greedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir --trg_out experiments/btec/zh-en/translation-relopt_eg_eta3_init1_iter40_refgreedy_cov0.1.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir -i experiments/btec/zh-en/params.zh-en.AM.l_2_h_512_a_256_lstm_bidir --lstm --bidirectional -l 2 -h 512 -a 256 &>experiments/btec/zh-en/log.zh-en.AM.relopt_eg_eta3_init1_iter40_refgreedy_cov0.1.l_2_h_512_a_256_lstm_bidir &
/home/vhoang2/tools/mosesdecoder-RELEASE-3.0/scripts/generic/multi-bleu.perl /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/dev/devset3.lc.en0 <experiments/btec/zh-en/translation-relopt_eg_eta3_init1_iter40_refgreedy_cov0.1.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir &>experiments/btec/zh-en/translation-relopt_eg_eta3_init1_iter40_refgreedy_cov0.1.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir.score-BLEU &
#EG, iter40, eta3, init1, coverage0.5
#GPU
nice ./build_gpu/src/relopt-decoder --dynet_mem 1000,2000,5000 --relopt_algo 1 --relopt_init 1 --relopt_eta 3 --relopt_max_iters 40 --relopt_coverage_weight 0.5 -t /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/train.zh-en.mrg --src_in /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/test.zh.mrg --ref_in experiments/btec/zh-en/translation-greedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir --trg_out experiments/btec/zh-en/translation-relopt_eg_eta3_init1_iter40_refgreedy_cov0.5.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir -i experiments/btec/zh-en/params.zh-en.AM.l_2_h_512_a_256_lstm_bidir --lstm --bidirectional -l 2 -h 512 -a 256 &>experiments/btec/zh-en/log.zh-en.AM.relopt_eg_eta3_init1_iter40_refgreedy_cov0.5.l_2_h_512_a_256_lstm_bidir &
/home/vhoang2/tools/mosesdecoder-RELEASE-3.0/scripts/generic/multi-bleu.perl /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/dev/devset3.lc.en0 <experiments/btec/zh-en/translation-relopt_eg_eta3_init1_iter40_refgreedy_cov0.5.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir &>experiments/btec/zh-en/translation-relopt_eg_eta3_init1_iter40_refgreedy_cov0.5.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir.score-BLEU &
#EG, iter40, eta3, init1, coverage1
#GPU
nice ./build_gpu/src/relopt-decoder --dynet_mem 1000,2000,5000 --relopt_algo 1 --relopt_init 1 --relopt_eta 3 --relopt_max_iters 40 --relopt_coverage_weight 1 -t /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/train.zh-en.mrg --src_in /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/test.zh.mrg --ref_in experiments/btec/zh-en/translation-greedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir --trg_out experiments/btec/zh-en/translation-relopt_eg_eta3_init1_iter40_refgreedy_cov1.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir -i experiments/btec/zh-en/params.zh-en.AM.l_2_h_512_a_256_lstm_bidir --lstm --bidirectional -l 2 -h 512 -a 256 &>experiments/btec/zh-en/log.zh-en.AM.relopt_eg_eta3_init1_iter40_refgreedy_cov1.l_2_h_512_a_256_lstm_bidir &
/home/vhoang2/tools/mosesdecoder-RELEASE-3.0/scripts/generic/multi-bleu.perl /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/dev/devset3.lc.en0 <experiments/btec/zh-en/translation-relopt_eg_eta3_init1_iter40_refgreedy_cov1.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir &>experiments/btec/zh-en/translation-relopt_eg_eta3_init1_iter40_refgreedy_cov1.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir.score-BLEU &
#EG, iter40, eta3, init1, glofer1
#GPU
nice ./build_gpu/src/relopt-decoder --dynet_mem 1000,2000,5000 --relopt_algo 1 --relopt_init 1 --relopt_eta 3 --relopt_max_iters 40 --relopt_glofer_weight 1 -t /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/train.zh-en.mrg --src_in /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/test.zh.mrg --ref_in experiments/btec/zh-en/translation-greedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir --trg_out experiments/btec/zh-en/translation-relopt_eg_eta3_init1_iter40_refgreedy_glofer1.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir -i experiments/btec/zh-en/params.zh-en.AM.l_2_h_512_a_256_lstm_bidir_glofer --fertility --lstm --bidirectional -l 2 -h 512 -a 256 &>experiments/btec/zh-en/log.zh-en.AM.relopt_eg_eta3_init1_iter40_refgreedy_glofer1.l_2_h_512_a_256_lstm_bidir &
/home/vhoang2/tools/mosesdecoder-RELEASE-3.0/scripts/generic/multi-bleu.perl /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/dev/devset3.lc.en0 <experiments/btec/zh-en/translation-relopt_eg_eta3_init1_iter40_refgreedy_glofer1.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir &>experiments/btec/zh-en/translation-relopt_eg_eta3_init1_iter40_refgreedy_glofer1.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir.score-BLEU &
#EG, iter40, eta3, init1, momentum0.9
#GPU
nice ./build_gpu/src/relopt-decoder --dynet_mem 1000,2000,5000 --relopt_algo 1 --relopt_init 1 --relopt_eta 3 --relopt_max_iters 40 --relopt_momentum 0.9 -t /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/train.zh-en.mrg --src_in /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/test.zh.mrg --ref_in experiments/btec/zh-en/translation-greedy.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir --trg_out experiments/btec/zh-en/translation-relopt_eg_eta3_init1_iter40_refgreedy_mom0.9.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir -i experiments/btec/zh-en/params.zh-en.AM.l_2_h_512_a_256_lstm_bidir --lstm --bidirectional -l 2 -h 512 -a 256 &>experiments/btec/zh-en/log.zh-en.AM.relopt_eg_eta3_init1_iter40_refgreedy_mom0.9.l_2_h_512_a_256_lstm_bidir &
/home/vhoang2/tools/mosesdecoder-RELEASE-3.0/scripts/generic/multi-bleu.perl /home/vhoang2/works/cuda-projects/neuralMT/data/BTEC_zh-en/dev/devset3.lc.en0 <experiments/btec/zh-en/translation-relopt_eg_eta3_init1_iter40_refgreedy_mom0.9.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir &>experiments/btec/zh-en/translation-relopt_eg_eta3_init1_iter40_refgreedy_mom0.9.test.zh-en.AM.l_2_h_512_a_256_lstm_bidir.score-BLEU &
#*** EN --> ZH
